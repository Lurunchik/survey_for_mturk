from . import models
from ._builtin import Page


class Preview(Page):
    pass


class JokePage(Page):
    form_model = models.Player
    form_fields = ['joke_score']

    def _increment_index_in_pages(self):
        models.JokeScore.objects.create(
            joke=self.player.joke_id,
            player=self.player.id,
            score=self.player.joke_score,
        )

        super()._increment_index_in_pages()

